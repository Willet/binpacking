<!DOCTYPE html>
<html>
<head>
    <title></title>
    <script type="text/javascript" src="jquery.1.10.1.min.js"></script>
    <script type="text/javascript" src="jquery.transition.min.js"></script>
    <script type="text/javascript" src="binpacking.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            "use strict";

            var binCount = $('.bin').length;

            function addBin() {
                $('#container').binpack([
                    $('<div />', {
                        'class': 'bin',
                        'html': ++binCount,
                        'css': {
                            // 'width': 300 * (1 + Math.round(Math.random())),
                            'height': 100 + Math.random() * 300
                        }
                    })
                ]);
            }

            while (binCount < 20) {
                addBin();
            }

            $('#container').binpack({
                'target': '.bin',
                'bindResize': true,
                'animationDuration': 600
            });

            $(document).on('click', '.bin', addBin);

            $(window).scroll(addBin);
        });
    </script>
    <style type="text/css">
        #container {
            display: block;
            width: 100%;
            margin: 0 auto;
            padding: 0;
            background: #1ab2c3;
            font-family: sans-serif;
        }
        .bin {
            border: 1px solid silver;
            border-radius: 3px;
            width: 300px;
            height: 200px;
            margin: 5px;
            box-shadow: 0 1px 3px 0 rgba(0,0,0,0.33);
            background: #fff;
            opacity: 0.7;
        }
    </style>
</head>
<body>
    <div id="container">
    </div>
</body>
</html>